{% extends 'partials/body.html' %}

{% load static %}

{% block contenido %}

<title>INDUALI-ESTANDAR-Ingredientes</title>
<center>
 <section id="botonAñadir">
 <section class="col-lg-12 button_añadir" >
    <form class="form-inline my-3 my-lg-3">
      <a href="{% url 'usuarios_crear'%}" class="btn btn-primary"><i class="bi bi-card-list"></i> CREAR USUARIO</a>
     </form>          
</section >
<br/>
<br/>
<br/>

<section  id="tablaUsuario">
  <div class="container-text-center bg-white text-dark row g-6 border rounded">
    <div class="row align-items-start">
      <div class="col-12 table-responsive"> 
        <table class="table" id="tabla-general">
          <thead class="thead-dark">
    <tr>
      <th scope="col">Nombres</th>
      <th scope="col">Apellidos</th>
      <th scope="col">Correo Electrónico</th>
      <th scope="col">Tipo de Documento</th>
      <th scope="col"># Documento</th>
      <th scope="col">Rol</th>
      <th scope="col">Estado</th>
      <th scope="col">Grupo</th>
      <th scope="col">Acciones</th>
    </tr>
  </thead>
  <tbody>
    {% for usuario in usuarios %}
    <tr>
      {% if usuario.estado != '3' %}
      <td >{{usuario.nombres}}</td>
      <td>{{usuario.apellidos}}</td>
      <td>{{usuario.email}}</td>
      <td>{{usuario.tipoDocumento}}</td>
      <td>{{usuario.documento}}</td>
      <td>{{usuario.rol}}</td>
      <td>{{usuario.estado}}</td>
      <td>{{usuario.user.groups.all.0}}</td>
      
       
      <td>
        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal{{ usuario.id }}">
            Editar
        </button>
      </td>



      <!-- Inicio Modal Editar -->
     
        <div class="modal fade" id="exampleModal{{ usuario.id }}" tabindex="-1" aria-labelledby="exampleModalLabel{{ usuario.id }}" aria-hidden="true">
          <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="exampleModalLabel">Editar Registro</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ¿Desea editar el registro seleccionado?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal">No</button>
              <a type="button" class="btn btn-success" href="{% url 'usuarios-editar' usuario.id %}"
                          role="button">Si</a>
             </div>
          </div>
        </div>
      </div>
    </td>
      <!-- Final modal Editar -->
      {% endif %}
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
</div>
</div>
</section >
{% endblock contenido %}
